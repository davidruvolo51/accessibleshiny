@import "_accordion_common";

.accordion__input {
    @include accordion__common;

    .accordion__checkbox {
        position: absolute;
        width: 1px;
        height: 1px;
        margin: -1px;
        clip: rect(0, 0, 0, 0);
        clip: rect(0 0 0 0);
        overflow: hidden;
        white-space: nowrap;

        + .accordion__heading {
            position: relative;
            display: inline-block;
            width: calc(100% - 42px);
            padding-bottom: 6px;
            cursor: pointer;

            &:before {
                content: "";
                position: relative;
                display: inline-block;
                margin-right: 6px;
                margin-bottom: 4px;
                border-left: 3px solid currentColor;
                border-bottom: 3px solid currentColor;
                transform: rotate(-45deg);
                transform-origin: center center;
                height: 6px;
                width: 12px;
                opacity: 0;
            }

            + .accordion__toggle {
                display: inline;
            }
        }

        &:checked {
            + .accordion__heading {
                &:before {
                    opacity: 1;
                }
            }
        }
    }

    // button
    .accordion__toggle {
        border-radius: 50%;

        .toggle__icon {
            position: relative;
            top: 5px;
            z-index: 1;
        }

        &:after {
            content: "";
            position: absolute;
            top: 1px;
            left: -3px;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background-color: $dark;
            z-index: 0;
            opacity: 0;
        }

        &:hover,
        &:focus {
            .toggle__icon {
                color: $light;
            }

            &:after {
                opacity: 1;
            }
        }
    }

    &.accordion__checked {
        background-color: $dark;
        color: $light;

        .accordion__toggle {
            &:after {
                background-color: $light;
            }

            &:hover,
            &:focus {
                .toggle__icon {
                    color: $dark;
                }
            }
        }
    }

    &.accordion__flat {
        box-shadow: none;
        .accordion__checkbox {
            &:hover,
            &:focus-within {
                + .accordion__heading {
                    text-decoration: underline;
                }
            }
        }
    }

    &.accordion__focused {
        box-shadow: $box-shadow;
        &:hover,
        &:focus-within {
            border-color: $dark;
        }

        .accordion__checkbox {
            &:hover,
            &:focus-within {
                + .accordion__heading {
                    text-decoration: underline;
                }
            }
        }
    }
}
